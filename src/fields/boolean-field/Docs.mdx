import { Meta, Markdown, Stories } from "@storybook/blocks";
import * as BooleanFieldStories from "./booleanField.stories";
import Config from "./config.md?raw";

<Meta title="fields/booleanField" of={BooleanFieldStories} />

# `booleanField(): ValidatedFieldAtom<boolean | undefined>`

A field which will have `true`, `false` or `undefined` value.
You can think of it like 3-state checkbox. Sometimes, you can't initialize form with `false` checkbox, as the user must explicitly pick
yes/no answer. This field starts in 'unanswered' state.

```ts
import { booleanField } from "@form-atoms/field";

// required yes/no answer, value must be changed by user to true or false
const yesNoAnswer = booleanField({
  name: "agreesWithFuneralTerms"
  required_error: "Please click yes or no button.",
});
```

## Initial Config

<Markdown>{Config}</Markdown>

## useBooleanFieldProps()

The `useBooleanFieldProps` will parse the input values as boolean. You can think of it like `valueAsBoolean` which is similar to `valueAsNumber` used in the `useNumberFieldProps`.
Note that the example uses generic `useSelectOptions` hook.

```tsx
const YesNoOptions = <Option,>({
  field,
  label,
  getValue,
  getLabel,
  options,
}: SelectFieldProps<Option, boolean>) => {
  const props = useBooleanFieldProps(field);

  const { renderOptions } = useSelectOptions(field, {
    getValue,
    getLabel,
    options,
  });

  return (
    <div style={{ margin: "20px 0" }}>
      <FieldLabel field={field} label={label} />
      {renderOptions.map(({ id, value, label, isActive }) => (
        <div key={id}>
          <input
            type="radio"
            {...props}
            id={id}
            value={`${value}`}
            checked={isActive}
          />
          <label htmlFor={id}>{label}</label>
        </div>
      ))}
      <div>
        <FieldErrors field={field} />
      </div>
    </div>
  );
};
```

<Stories />
